---
title: "ReactのFunction Componentsの戻り値の型の話"
emoji: "🧚"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: [typescript]
published: false
---

# React

React18 で FC の props から`children`が削除され、Function Components 内で暗黙的に`children`を利用することが不可能になりました。
実際の記法は以下の通りになります。

```tsx
type PastProps = { title: string };

// React18より前に使えていた記法
// FCを使うことで暗黙的にchildrenを使うことができた
const App: React.FC<PastProps> = ({ title }) => {
  return (
    <>
      <h2>{props.title}</h2>
      {children}
    </>
  );
};

type NewProps = { title: string; children: React.ReactNode };

// React18以降はchildrenを明示的に定義する必要がある
const App: React.FC<NewProps> = ({ title, children }) => {
  return (
    <>
      <h2>{props.title}</h2>
      {children}
    </>
  );
};
```

React FC は戻り値の型を明示的にすることができますが、Prop の型定義をきちんとしていれば、特に React.FC を使う理由が見つからないと感じたので、下記のコードの戻り値型を`JSX.Element`で定義すると、型定義エラーになりました。

```tsx
type Props<T extends number | string> = {
  title: T;
  children?: ReactNode;
};

// 型 '<T extends string | number>({ title, children }: Props<T>) => EmotionJSX.Element' を型 'Element' に割り当てることはできません。
export const Card: JSX.Element = <T extends number | string>({
  title,
  children,
}: Props<T>) => {
  return (
    <div>
      <p>{title}</p>
      {children}
    </div>
  );
};
```

https://react-typescript-cheatsheet.netlify.app/docs/basic/getting-started/function_components/
